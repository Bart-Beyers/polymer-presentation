<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="slide.html">
<link rel="import" href="../service/service.html">
<link rel="import" href="control-bar.html">

<polymer-element name="jbd-presentation"  attributes="location">
  <template>
    <style>
    :host {
      background-color: #999999;
    }
    </style>


    <jbd-service url="{{ location }}" slides="{{ slides }}"></jbd-service>
  <h2>Currentslide {{ currentSlide}}</h2>
    <template repeat="{{ slide in slides }}">
      <jbd-slide hidden?="{{ currentSlide !== slide.id}}">
        <h2>{{slide.title}}</h2>
        <template if="{{slide.img}}">
          <img src="./images/{{slide.img}}">
        </template>
        <p>{{slide.content}}</p>
      </jbd-slide>
    </template>

    <control-bar on-next="{{nextSlide}}"
                 on-previous="{{previousSlide}}"></control-bar>
  </template>
  <script>
  Polymer({
    currentSlide: 0,
    nextSlide: function (event, detail, sender){
      if (this.currentSlide !== this.slides.length -1){
        this.currentSlide += 1;
      }
    },
    previousSlide: function () {
      if (this.currentSlide !== 0){
        this.currentSlide -= 1;
      }
    }
  });
  </script>
</polymer-element>